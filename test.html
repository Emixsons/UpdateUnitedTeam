<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–µ –±–ª–æ–∫–∏</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 40px;
      background: #f0f0f0;
    }

    #container {
      width: 400px;
      margin: 0 auto;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ (div) */
    .card {
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      margin-bottom: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      cursor: grab;
      transition: transform 0.2s ease;
      user-select: none;
      position: relative;
    }

    /* –ö–æ–≥–¥–∞ –±–ª–æ–∫ —Ç–∞—â–∏—Ç—Å—è */
    .dragging {
      opacity: 0.8;
      transform: scale(1.03);
      z-index: 1000;
    }

    /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    .placeholder {
      border: 2px dashed #aaa;
      background-color: #fafafa;
    }
  </style>
</head>
<body>

  <h2 style="text-align: center;">–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π</h2>

  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫—É–¥–∞ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤—Å–µ div'—ã -->
  <div id="container"></div>

  <script>
    // –ú–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ ‚Äî —Ç—ã –º–æ–∂–µ—à—å —Å—é–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–∏ –æ–±—ä–µ–∫—Ç—ã
    const data = [
      { id: 1, name: "üü¶ –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç" },
      { id: 2, name: "üüß –í—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç" },
      { id: 3, name: "üü® –¢—Ä–µ—Ç–∏–π —ç–ª–µ–º–µ–Ω—Ç" },
      { id: 4, name: "üü• –ß–µ—Ç–≤—ë—Ä—Ç—ã–π —ç–ª–µ–º–µ–Ω—Ç" },
    ];

    const container = document.getElementById("container");

    let draggedEl = null;
    let draggedIndex = null;

    // –†–µ–Ω–¥–µ—Ä –≤—Å–µ—Ö –±–ª–æ–∫–æ–≤
    function render() {
      container.innerHTML = ''; // –æ—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

      data.forEach((item, index) => {
        const card = document.createElement("div");
        card.className = "card";
        card.textContent = item.name;
        card.setAttribute("draggable", true);
        card.dataset.index = index;

        // –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
        card.addEventListener("dragstart", dragStart);
        card.addEventListener("dragover", dragOver);
        card.addEventListener("drop", drop);
        card.addEventListener("dragend", dragEnd);
        card.addEventListener("dragenter", dragEnter);
        card.addEventListener("dragleave", dragLeave);

        container.appendChild(card);
      });
    }

    // –°–æ–±—ã—Ç–∏–µ –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
    function dragStart(e) {
      draggedEl = e.target;
      draggedIndex = +e.target.dataset.index;
      e.target.classList.add("dragging");
      e.dataTransfer.effectAllowed = "move";
      e.dataTransfer.setData("text/plain", ""); // –Ω—É–∂–Ω–æ –¥–ª—è Firefox
    }

    // –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –¥—Ä—É–≥–æ–π –±–ª–æ–∫
    function dragEnter(e) {
      e.preventDefault();
      if (e.target.classList.contains("card") && e.target !== draggedEl) {
        e.target.classList.add("placeholder");
      }
    }

    // –£–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É
    function dragLeave(e) {
      e.target.classList.remove("placeholder");
    }

    // –†–∞–∑—Ä–µ—à–∞–µ–º –¥—Ä–æ–ø
    function dragOver(e) {
      e.preventDefault();
    }

    // –ö–æ–≥–¥–∞ –æ—Ç–ø—É—Å–∫–∞–µ–º –±–ª–æ–∫
    function drop(e) {
      e.preventDefault();
      e.target.classList.remove("placeholder");

      const targetIndex = +e.target.dataset.index;

      if (targetIndex === draggedIndex) return;

      // –ú–µ–Ω—è–µ–º –ø–æ—Ä—è–¥–æ–∫ –≤ –º–∞—Å—Å–∏–≤–µ
      const draggedItem = data[draggedIndex];
      data.splice(draggedIndex, 1); // —É–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ä—É—é –ø–æ–∑–∏—Ü–∏—é
      data.splice(targetIndex, 0, draggedItem); // –≤—Å—Ç–∞–≤–ª—è–µ–º –≤ –Ω–æ–≤—É—é

      render(); // –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –≤—Å—ë
    }

    // –ö–æ–Ω–µ—Ü –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
    function dragEnd(e) {
      e.target.classList.remove("dragging");
    }

    // –ü–µ—Ä–≤—ã–π —Ä–µ–Ω–¥–µ—Ä
    render();
  </script>
</body>
</html>
